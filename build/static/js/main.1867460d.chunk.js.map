{"version":3,"sources":["Components/Filter.js","Components/PersonForm.js","Components/Persons.js","services/persons.js","Components/Notification.js","App.js","index.js"],"names":["Filter","newFilter","handleFilterChange","value","onChange","PersonForm","addPerson","handlePersonChange","handleNumberChange","name","number","onSubmit","type","Persons","persons","killPerson","filterPersons","filter","nogo","toLowerCase","includes","map","key","onClick","id","baseUrl","axios","get","then","response","data","newObject","post","put","delete","Notification","message","error","className","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","setNewFilter","setError","setMessage","useEffect","personService","initialNotes","updateNumber","person","nextNumber","find","nr","returnedPerson","setTimeout","catch","e","status","event","console","log","target","preventDefault","personObject","date","Date","toISOString","every","concat","window","confirm","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.1867460d.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Filter = ({newFilter, handleFilterChange}) => {\r\n    return (\r\n        <div>\r\n          filter shown with <input value={newFilter} \r\n          onChange={handleFilterChange}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react' \r\n\r\nconst PersonForm = ({addPerson, handlePersonChange, handleNumberChange, name, number}) => {\r\n    return (\r\n<form onSubmit={addPerson}>\r\n<div>\r\n  name: <input value={name}\r\n  onChange={handlePersonChange} />          \r\n</div>\r\n<div> \r\n  number: <input value={number}\r\n  onChange={handleNumberChange} />\r\n</div>\r\n<div>\r\n  <button type=\"submit\">add</button>\r\n</div>\r\n</form>\r\n)\r\n}\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Persons = ({persons, newFilter, killPerson}) => {\r\n    const filterPersons = newFilter === ''\r\n        ? persons\r\n        : persons.filter(nogo =>\r\n            nogo.name.toLowerCase().includes(newFilter.toLowerCase()))\r\n\r\n    return (\r\n        <div>{filterPersons.map(nogo => <div key={nogo.name}>{nogo.name} {nogo.number}\r\n        <button onClick={() => killPerson(nogo.id)}>delete</button></div>)}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Persons","import axios from 'axios'\r\nconst baseUrl = 'api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst kill = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, update, kill }\r\n\r\n","import React from 'react'\r\n\r\nconst Notification = ({ message, error }) => {\r\n    if (message === null && error === null) {\r\n      return null\r\n    }\r\n    else if (message !== null)\r\n    {\r\n        return (\r\n            <div className=\"message\">\r\n              {message}\r\n            </div>\r\n          )\r\n    }\r\n    else if (error !== null)\r\n    {\r\n        return (\r\n            <div className=\"error\">\r\n              {error}\r\n            </div>\r\n          )\r\n    }\r\n    \r\n  }\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\r\nimport Filter from './Components/Filter'\r\nimport PersonForm from './Components/PersonForm'\r\nimport Persons from './Components/Persons'\r\nimport personService from './services/persons'\r\nimport './index.css'\r\nimport Notification from './Components/Notification'\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons ] = useState([]) \r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [ newFilter, setNewFilter] = useState('')\r\n  const [error, setError] = useState(null)\r\n  const [message, setMessage] = useState(null)\r\n\r\n  \r\n  useEffect(() => {\r\n    personService\r\n      .getAll()\r\n      .then(initialNotes => {\r\n        setPersons(initialNotes)\r\n      })\r\n  }, [])\r\n\r\n  const killPerson = (id) => {\r\n    const person = persons.find((person) => person.id === id);\r\n    if (window.confirm(`Delete ${person.name}?`)) \r\n    {personService\r\n    .kill(id)\r\n    .then() \r\n    setPersons(persons.filter(nogo => id !==nogo.id))\r\n    }\r\n  }\r\n\r\n  const addPerson = (event) => {\r\n    event.preventDefault()\r\n    console.log('button clicked', event.target)\r\n    const personObject = {\r\n      name: newName,\r\n      number: newNumber,\r\n      date: new Date().toISOString()\r\n    }\r\n\r\n    // !persons.map(person => person.name.toLowerCase().includes(newName.toLowerCase())\r\n    // (persons.map(person => person.name.toLowerCase().includes(newName.toLowerCase())))\r\n  // persons.every((p) => p.name.toLowerCase() !== newName.toLowerCase())\r\n  if (persons.every((person) => person.name.toLowerCase() !== newName.toLowerCase()))\r\n    {\r\n      personService\r\n      .create(personObject)\r\n      .then(returnedPerson => {\r\n        setPersons(persons.concat(returnedPerson))\r\n        setNewName('')\r\n        setNewNumber('')\r\n        setMessage(`Added ${returnedPerson.name}`)\r\n        setTimeout(() => {\r\n          setMessage(null)\r\n        }, 2500)\r\n        \r\n      }).catch(e => {\r\n        setError(e.response.data.error)\r\n        setTimeout(() => {\r\n          setError(null)\r\n        }, 6000)\r\n      })\r\n    }\r\n    \r\n\r\n  else if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`))\r\n    {\r\n      updateNumber(personObject)\r\n    }  \r\n  }\r\n\r\n  const updateNumber = (person) => {\r\n    const nextNumber = persons.find(nr => nr.name.toLowerCase() === person.name.toLowerCase()).id\r\n    person = {...person, id: nextNumber}\r\n\r\n    personService\r\n    .update(nextNumber, person)\r\n    .then(returnedPerson => {\r\n      setPersons(persons.map(nr => nr.id !== nextNumber ? nr : returnedPerson))\r\n      setNewName('')\r\n      setNewNumber('')\r\n      setMessage(`Changed ${returnedPerson.name} number to ${newNumber}`)\r\n        setTimeout(() => {\r\n          setMessage(null)\r\n        }, 2500)\r\n    \r\n    })\r\n    .catch(e => {\r\n    if (e.response.status === 400)\r\n    {\r\n      setMessage(e.response.data.error)\r\n      setTimeout(() => {\r\n        setMessage(null)\r\n      }, 2000)\r\n    }\r\n    else {\r\n      setPersons(persons.filter(nr => nr.id !== nextNumber))\r\n      setError(\r\n        `Information of '${person.name}' was already removed from server`)\r\n      setTimeout(() => {\r\n        setError(null)\r\n      }, 2500)\r\n      setNewName('')\r\n      setNewNumber('')\r\n    }\r\n    })  \r\n  }\r\n\r\n  const handlePersonChange = (event) => {\r\n    console.log(event.target.value)\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumberChange = (event) => {\r\n    console.log(event.target.value)\r\n    setNewNumber(event.target.value)\r\n  }\r\n  \r\n  const handleFilterChange = (event) => {\r\n    console.log(event.target.value)\r\n    setNewFilter(event.target.value)\r\n  }\r\n  \r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={message} error={error} />\r\n      <Filter value={newFilter} handleFilterChange={handleFilterChange}/>\r\n      <h2>add a new</h2>\r\n      <PersonForm addPerson={addPerson} handlePersonChange={handlePersonChange} handleNumberChange={handleNumberChange} name={newName} number={newNumber}/>\r\n      <h2>Numbers</h2>           \r\n      <Persons persons={persons} newFilter={newFilter} killPerson={killPerson}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\n\r\n\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))\r\n"],"sourceRoot":""}